(this.webpackJsonpmaxwell=this.webpackJsonpmaxwell||[]).push([[0],{184:function(e,t,i){"use strict";i.r(t);var n=i(6),a=i.n(n),c=i(72),r=i.n(c),l=(i(81),i(13)),o=i.n(l),d=i(73),u=i(14),s=i(74),h=i(75),g=Math.floor(9.5);function f(e,t){for(var i=[],n=0;n<e[0];n++){for(var a=[],c=0;c<e[1];c++){for(var r=[],l=0;l<e[2];l++)r.push(t([n,c,l]));a.push(r)}i.push(a)}return i}var m=new h.GPU,v=m.createKernel((function(e,t){var i=this.thread.z,n=this.thread.y,a=this.thread.x,c=n+1>=this.constants.gridSize?n:n+1,r=a+1>=this.constants.gridSize?a:a+1;return t[i][c][a]-t[i][n][a]-(e[i][n][r]-e[i][n][a])}),{output:[19,19,19],constants:{gridSize:19}}),F=m.createKernel((function(e,t){var i=this.thread.z,n=this.thread.y,a=this.thread.x,c=i+1>=this.constants.gridSize?i:i+1,r=a+1>=this.constants.gridSize?a:a+1;return e[i][n][r]-e[i][n][a]-(t[c][n][a]-t[i][n][a])}),{output:[19,19,19],constants:{gridSize:19}}),b=m.createKernel((function(e,t){var i=this.thread.z,n=this.thread.y,a=this.thread.x,c=i+1>=this.constants.gridSize?i:i+1,r=n+1>=this.constants.gridSize?n:n+1;return t[c][n][a]-t[i][n][a]-(e[i][r][a]-e[i][n][a])}),{output:[19,19,19],constants:{gridSize:19}}),p=m.createKernel((function(e,t){var i=this.thread.z,n=this.thread.y,a=this.thread.x,c=n-1<0?n:n-1,r=a-1<0?a:a-1;return t[i][n][a]-t[i][c][a]-(e[i][n][a]-e[i][n][r])}),{output:[19,19,19],constants:{gridSize:19}}),w=m.createKernel((function(e,t){var i=this.thread.z,n=this.thread.y,a=this.thread.x,c=i-1<0?i:i-1,r=a-1<0?a:a-1;return e[i][n][a]-e[i][n][r]-(t[i][n][a]-t[c][n][a])}),{output:[19,19,19],constants:{gridSize:19}}),y=m.createKernel((function(e,t){var i=this.thread.z,n=this.thread.y,a=this.thread.x,c=i-1<0?i:i-1,r=n-1<0?n:n-1;return t[i][n][a]-t[c][n][a]-(e[i][n][a]-e[i][r][a])}),{output:[19,19,19],constants:{gridSize:19}});function S(e,t,i){for(var n=0;n<e.length;n++)for(var a=0;a<e[0].length;a++)for(var c=0;c<e[0][0].length;c++)e[n][a][c]+=i*t[n][a][c]}var x=new function e(t){var i=this;Object(s.a)(this,e),this.data=void 0,this.stepElectric=function(e){var t=p(i.data.magneticFieldY,i.data.magneticFieldZ),n=w(i.data.magneticFieldX,i.data.magneticFieldZ),a=y(i.data.magneticFieldX,i.data.magneticFieldY);S(i.data.electricFieldX,t,e),S(i.data.electricFieldY,n,e),S(i.data.electricFieldZ,a,e),i.data.time+=e/2},this.stepMagnetic=function(e){var t=v(i.data.electricFieldY,i.data.electricFieldZ),n=F(i.data.electricFieldX,i.data.electricFieldZ),a=b(i.data.electricFieldX,i.data.electricFieldY);S(i.data.magneticFieldX,t,-e),S(i.data.magneticFieldY,n,-e),S(i.data.magneticFieldZ,a,-e),i.data.time+=e/2},this.getData=function(){return i.data},this.data={time:0,electricFieldX:f(t,(function(e){return 0})),electricFieldY:f(t,(function(e){return 0})),electricFieldZ:f(t,(function(e){return 0})),magneticFieldX:f(t,(function(e){return 0})),magneticFieldY:f(t,(function(e){return 0})),magneticFieldZ:f(t,(function(e){return 0})),permittivity:f(t,(function(e){return 0})),permeability:f(t,(function(e){return 0}))}}([19,19,19]);function X(e,t,i,n){e.strokeStyle=n,e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(i[0],i[1]),e.stroke(),e.fillStyle=n,e.beginPath();var a=Math.atan2(i[1]-t[1],i[0]-t[0]),c=5*Math.cos(a)+i[0],r=5*Math.sin(a)+i[1];e.moveTo(c,r),a+=1/3*(2*Math.PI),c=5*Math.cos(a)+i[0],r=5*Math.sin(a)+i[1],e.lineTo(c,r),a+=1/3*(2*Math.PI),c=5*Math.cos(a)+i[0],r=5*Math.sin(a)+i[1],e.lineTo(c,r),e.closePath(),e.fill()}function E(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]}function M(e,t){var i=E(t);if(0===i||i<=e*e)return t;var n=Math.sqrt(i);return[e*t[0]/n,e*t[1]/n,e*t[2]/n]}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement((function(){var e=Object(n.useRef)(null),t=Object(n.useState)(!1),i=Object(u.a)(t,2),c=i[0],r=i[1],l=Object(n.useState)(!1),s=Object(u.a)(l,2),h=s[0],f=s[1],m=Object(n.useState)(!0),v=Object(u.a)(m,2),F=v[0],b=v[1],p=Object(n.useState)(!0),w=Object(u.a)(p,2),y=w[0],S=w[1],k=Object(n.useMemo)((function(){return function(t){if(e.current){var i=e.current.getContext("2d");if(i){i.fillStyle="black",i.fillRect(0,0,i.canvas.width,i.canvas.height);for(var n=i.canvas.width/t.electricFieldX.length,a=n/2.5,r=0,l=0,o=0,d=0;d<t.electricFieldX.length;d++)for(var u=0;u<t.electricFieldX[0].length;u++){var s=g,f=[(d+.5)*n+n*s/(4*t.electricFieldX.length),(u+.5)*n-n*s/(4*t.electricFieldX.length)],m=[t.electricFieldX[d][u][s],t.electricFieldY[d][u][s],t.electricFieldZ[d][u][s]],v=[t.magneticFieldX[d][u][s],t.magneticFieldY[d][u][s],t.magneticFieldZ[d][u][s]],b=[(O=m)[1]*(T=v)[2]-O[2]*T[1],O[2]*T[0]-O[0]*T[2],O[0]*T[1]-O[1]*T[0]],p=.5*E(m),w=.5*E(v),S=p+w;r+=S,l+=p,o+=w;var x=255*s/(t.electricFieldX[0][0].length-1);if(y&&(i.strokeStyle="rgb(".concat(x,", 255, ").concat(x,")"),i.beginPath(),i.arc(f[0],f[1],a*Math.min(1,Math.sqrt(S/1)),0,2*Math.PI),i.stroke()),c){var k=M(1,m);X(i,f,[f[0]+a*k[0],f[1]+a*k[1]],"rgb(255, ".concat(x,", ").concat(x,")"))}if(h){var z=M(1,v);X(i,f,[f[0]+a*z[0],f[1]+a*z[1]],"rgb(".concat(x,", ").concat(x,", 255)"))}if(F){var j=M(1,b);X(i,f,[f[0]+a*j[0]/1,f[1]+a*j[1]/1],"rgb(".concat(255-x,", 255, ").concat(x,")"))}}i.fillStyle="white",i.fillText("Time: ".concat(t.time.toFixed(2)),10,10),i.fillStyle="lime",i.fillText("Total energy: ".concat(r.toFixed(2)),10,20),i.fillStyle="red",i.fillText("Electric energy: ".concat(l.toFixed(2)),10,30),i.fillStyle="blue",i.fillText("Magnetic energy: ".concat(o.toFixed(2)),10,40)}}var O,T}}),[e,c,h,y,F]),z=Object(n.useMemo)((function(){return function(e){return{electric:[0,0,e>2?0:20],magnetic:[0,0,0]}}}),[]),j=Object(n.useCallback)((function(){var e=!1;return function(){var t=Object(d.a)(o.a.mark((function t(){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=o.a.mark((function e(){var t,i,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=x.getData(),.01,i=z(t.time),n=0;n<19;n++)t.electricFieldX[g][g][n]=i.electric[0],t.electricFieldY[g][g][n]=i.electric[1],t.electricFieldZ[g][g][n]=i.electric[2],t.magneticFieldX[g][g][n]=i.magnetic[0],t.magneticFieldY[g][g][n]=i.magnetic[1],t.magneticFieldZ[g][g][n]=i.magnetic[2];for(x.stepMagnetic(.01),i=z(t.time),a=0;a<19;a++)t.electricFieldX[g][g][a]=i.electric[0],t.electricFieldY[g][g][a]=i.electric[1],t.electricFieldZ[g][g][a]=i.electric[2],t.magneticFieldX[g][g][a]=i.magnetic[0],t.magneticFieldY[g][g][a]=i.magnetic[1],t.magneticFieldZ[g][g][a]=i.magnetic[2];return x.stepElectric(.01),k(x.getData()),e.next=11,new Promise((function(e){return setTimeout(e,10)}));case 11:case"end":return e.stop()}}),e)}));case 1:if(e){t.next=5;break}return t.delegateYield(i(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[k,z]);return Object(n.useEffect)((function(){k(x.getData())}),[k]),Object(n.useEffect)(j,[j]),a.a.createElement("div",null,a.a.createElement("div",{style:{float:"left"}},a.a.createElement("canvas",{width:window.innerHeight,height:window.innerHeight,ref:e})),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return r(!c)}},"Toggle electric")),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return f(!h)}},"Toggle magnetic")),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return S(!y)}},"Toggle energy")),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return b(!F)}},"Toggle poynting"))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,t,i){e.exports=i(184)},81:function(e,t,i){}},[[76,1,2]]]);
//# sourceMappingURL=main.729b57c9.chunk.js.map