(this.webpackJsonpmaxwell=this.webpackJsonpmaxwell||[]).push([[0],{183:function(e,t,i){"use strict";i.r(t);var a=i(5),n=i.n(a),r=i(71),c=i.n(r),u=(i(81),i(7)),l=i(72),s=i(73);function o(e){var t={};return function(i){return t[i]||(t[i]=e()),t[i]}}var d=function e(t,i,a){var n=this;function r(e,t,i,a,n){return a<0||a>=t||n<0||n>=i?0:e[n][a]}Object(s.a)(this,e),this.gpu=t,this.cellSize=a,this.data=void 0,this.updateMagneticX=void 0,this.updateMagneticY=void 0,this.updateMagneticZ=void 0,this.updateElectricX=void 0,this.updateElectricY=void 0,this.updateElectricZ=void 0,this.injectSource=void 0,this.decaySource=void 0,this.makeFieldTexture=void 0,this.copyTexture=void 0,this.drawOnTexture=void 0,this.setGridSize=function(e){[n.updateElectricX,n.updateElectricY,n.updateElectricZ,n.updateMagneticX,n.updateMagneticY,n.updateMagneticZ,n.injectSource,n.decaySource,n.makeFieldTexture("ex"),n.makeFieldTexture("ey"),n.makeFieldTexture("ez"),n.makeFieldTexture("mx"),n.makeFieldTexture("my"),n.makeFieldTexture("mz"),n.makeFieldTexture("esz"),n.makeFieldTexture("permeability"),n.makeFieldTexture("permittivity"),n.copyTexture("loadPermittivity"),n.copyTexture("loadPermittivity"),n.copyTexture("permeability"),n.copyTexture("permittivity"),n.copyTexture("ex"),n.copyTexture("ey"),n.copyTexture("esz"),n.copyTexture("mx"),n.copyTexture("my"),n.copyTexture("mz"),n.drawOnTexture("esz"),n.drawOnTexture("permeability"),n.drawOnTexture("permittivity")].forEach((function(t){return t.setOutput(e)})),n.resetFields(),n.resetMaterials()},this.setCellSize=function(e){n.cellSize=e,n.resetFields(),n.resetMaterials()},this.stepElectric=function(e){var t=n.data.electricFieldX.values,i=n.data.electricFieldY.values,a=n.data.electricFieldZ.values,r=n.data.magneticFieldX.values,c=n.data.magneticFieldY.values,u=n.data.magneticFieldZ.values,l=n.data.permittivity.values,s=n.injectSource(n.data.electricSourceFieldZ.values,a,e);n.data.electricSourceFieldZ.values=n.decaySource(n.copyTexture("esz")(n.data.electricSourceFieldZ.values),e),n.data.electricFieldX.values=n.updateElectricX(c,u,l,n.copyTexture("ex")(t),e,n.cellSize),n.data.electricFieldY.values=n.updateElectricY(r,u,l,n.copyTexture("ey")(i),e,n.cellSize),n.data.electricFieldZ.values=n.updateElectricZ(r,c,l,s,e,n.cellSize),n.data.time+=e/2},this.stepMagnetic=function(e){var t=n.data.electricFieldX.values,i=n.data.electricFieldY.values,a=n.data.electricFieldZ.values,r=n.data.magneticFieldX.values,c=n.data.magneticFieldY.values,u=n.data.magneticFieldZ.values,l=n.data.permeability.values;n.data.magneticFieldX.values=n.updateMagneticX(i,a,l,n.copyTexture("mx")(r),e,n.cellSize),n.data.magneticFieldY.values=n.updateMagneticY(t,a,l,n.copyTexture("my")(c),e,n.cellSize),n.data.magneticFieldZ.values=n.updateMagneticZ(t,i,l,n.copyTexture("mz")(u),e,n.cellSize),n.data.time+=e/2},this.resetFields=function(){n.data.time=0,n.data.electricFieldX.values=n.makeFieldTexture("ex")(0),n.data.electricFieldY.values=n.makeFieldTexture("ey")(0),n.data.electricFieldZ.values=n.makeFieldTexture("ez")(0),n.data.magneticFieldX.values=n.makeFieldTexture("mx")(0),n.data.magneticFieldY.values=n.makeFieldTexture("my")(0),n.data.magneticFieldZ.values=n.makeFieldTexture("mz")(0),n.data.electricSourceFieldZ.values=n.makeFieldTexture("esz")(0)},this.resetMaterials=function(){n.data.permeability.values=n.makeFieldTexture("permeability")(1),n.data.permittivity.values=n.makeFieldTexture("permittivity")(1)},this.drawPermeability=function(e,t,i){n.data.permeability.values=n.drawOnTexture("permeability")(e,t,i,0,n.copyTexture("permability")(n.data.permeability.values))},this.drawPermittivity=function(e,t,i){n.data.permittivity.values=n.drawOnTexture("permittivity")(e,t,i,0,n.copyTexture("permittivity")(n.data.permittivity.values))},this.injectSignal=function(e,t,i,a){n.data.electricSourceFieldZ.values=n.drawOnTexture("esz")(e,t,i*a,1,n.copyTexture("esz")(n.data.electricSourceFieldZ.values))},this.loadPermittivity=function(e){n.data.permittivity.values=n.copyTexture("loadPermittivity")(e)},this.loadPermeability=function(e){n.data.permeability.values=n.copyTexture("loadPermeability")(e)},this.getData=function(){return n.data},this.makeFieldTexture=o((function(){return n.gpu.createKernel((function(e){return e})).setOutput(i).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0)})),this.copyTexture=o((function(){return n.gpu.createKernel((function(e){return e[this.thread.y][this.thread.x]})).setOutput(i).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0)})),this.data={time:0,electricFieldX:{values:this.makeFieldTexture("ex")(0),shape:i},electricFieldY:{values:this.makeFieldTexture("ey")(0),shape:i},electricFieldZ:{values:this.makeFieldTexture("ez")(0),shape:i},magneticFieldX:{values:this.makeFieldTexture("mx")(0),shape:i},magneticFieldY:{values:this.makeFieldTexture("my")(0),shape:i},magneticFieldZ:{values:this.makeFieldTexture("mz")(0),shape:i},electricSourceFieldZ:{values:this.makeFieldTexture("esz")(0),shape:i},permittivity:{values:this.makeFieldTexture("permittivity")(1),shape:i},permeability:{values:this.makeFieldTexture("permeability")(1),shape:i}},this.drawOnTexture=o((function(){return n.gpu.createKernel((function(e,t,i,a,n){var c=this.thread.x,u=this.thread.y,l=r(n,this.output.x,this.output.y,c,u);return Math.max(Math.abs(e[0]-c),Math.abs(e[1]-u))<t?i+a*l:l}),{constants:{cellSize:a}}).setOutput(i).setFunctions([r]).setWarnVarUsage(!1).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0)})),this.injectSource=this.gpu.createKernel((function(e,t,i){var a=this.thread.x,n=this.thread.y,c=this.output.x,u=this.output.y;return r(t,c,u,a,n)+r(e,c,u,a,n)*i})).setOutput(i).setFunctions([r]).setWarnVarUsage(!1).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0),this.decaySource=this.gpu.createKernel((function(e,t){var i=this.thread.x,a=this.thread.y;return r(e,this.output.x,this.output.y,i,a)*Math.pow(.1,t)})).setOutput(i).setFunctions([r]).setWarnVarUsage(!1).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0),this.updateMagneticX=this.gpu.createKernel((function(e,t,i,a,n,c){var u=this.thread.x,l=this.thread.y,s=this.output.x,o=this.output.y;return r(a,s,o,u,l)-n/(r(i,s,o,u,l)*c)*(r(t,s,o,u,l+1)-r(t,s,o,u,l))}),{constants:{cellSize:a}}).setOutput(i).setFunctions([r]).setWarnVarUsage(!1).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0),this.updateMagneticY=this.gpu.createKernel((function(e,t,i,a,n,c){var u=this.thread.x,l=this.thread.y,s=this.output.x,o=this.output.y;return r(a,s,o,u,l)-n/(r(i,s,o,u,l)*c)*-(r(t,s,o,u+1,l)-r(t,s,o,u,l))}),{constants:{cellSize:a}}).setOutput(i).setFunctions([r]).setWarnVarUsage(!1).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0),this.updateMagneticZ=this.gpu.createKernel((function(e,t,i,a,n,c){var u=this.thread.x,l=this.thread.y,s=this.output.x,o=this.output.y;return r(a,s,o,u,l)-n/(r(i,s,o,u,l)*c)*(r(t,s,o,u+1,l)-r(t,s,o,u,l)-(r(e,s,o,u,l+1)-r(e,s,o,u,l)))}),{constants:{cellSize:a}}).setOutput(i).setFunctions([r]).setWarnVarUsage(!1).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0),this.updateElectricX=this.gpu.createKernel((function(e,t,i,a,n,c){var u=this.thread.x,l=this.thread.y,s=this.output.x,o=this.output.y;return r(a,s,o,u,l)+n/(r(i,s,o,u,l)*c)*(r(t,s,o,u,l)-r(t,s,o,u,l-1))}),{constants:{cellSize:a}}).setOutput(i).setFunctions([r]).setWarnVarUsage(!1).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0),this.updateElectricY=this.gpu.createKernel((function(e,t,i,a,n,c){var u=this.thread.x,l=this.thread.y,s=this.output.x,o=this.output.y;return r(a,s,o,u,l)+n/(r(i,s,o,u,l)*c)*-(r(t,s,o,u,l)-r(t,s,o,u-1,l))}),{constants:{cellSize:a}}).setOutput(i).setFunctions([r]).setWarnVarUsage(!1).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0),this.updateElectricZ=this.gpu.createKernel((function(e,t,i,a,n,c){var u=this.thread.x,l=this.thread.y,s=this.output.x,o=this.output.y;return r(a,s,o,u,l)+n/(r(i,s,o,u,l)*c)*(r(t,s,o,u,l)-r(t,s,o,u-1,l)-(r(e,s,o,u,l)-r(e,s,o,u,l-1)))}),{constants:{cellSize:a}}).setOutput(i).setFunctions([r]).setWarnVarUsage(!1).setPipeline(!0).setTactic("performance").setDynamicOutput(!0).setDynamicArguments(!0)},m=i(74);function h(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(i,!0).forEach((function(t){Object(m.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function g(e){var t=Object(a.useState)(!1),i=Object(u.a)(t,2),r=i[0],c=i[1];return n.a.createElement("div",{style:v({textAlign:"center",background:"rgb(33, 33, 33)",fontWeight:"lighter",color:"white"},e.style)},n.a.createElement("button",{onClick:function(e){return c(!r)},style:v({width:"100%",height:"24px",background:"rgb(50, 50, 50)",border:"0px",color:"white",fontWeight:"bold",cursor:"pointer"},e.buttonStyle)},e.title?"".concat(e.title," "):"","[",r?"+":"-","]"),!r&&e.children)}function b(e){return n.a.createElement("div",null,n.a.createElement("label",null,e.label),n.a.createElement("div",null,n.a.createElement("input",{type:"range",min:e.min,max:e.max,value:e.value,step:e.step,onChange:function(t){return e.setValue(parseFloat(t.target.value))},style:{height:10,width:"100%"}}),n.a.createElement("div",{style:{textAlign:"center",lineHeight:.1,marginBottom:"7px"}},e.value)))}function y(e){return n.a.createElement("div",null,e.options.map((function(t,i){return n.a.createElement("button",{key:t,style:{boxSizing:"border-box",border:i===e.selectedOption?"4px solid rgb(0, 150, 255)":"0",height:"30px",margin:"5px",width:"".concat(100/e.options.length,"%"),background:"rgb(100, 100, 100)",color:"white"},onClick:function(t){return e.setSelectedOption(i)}},t)})))}function f(e){var t=e.simulator,i=e.gridSize,r=Object(a.useState)(""),c=Object(u.a)(r,2),l=c[0],s=c[1],o=Object(a.useCallback)((function(){if(t){var e=t.getData();window.open(function(e){var t=document.createElement("canvas");t.width=e.shape[0],t.height=e.shape[1];var i=e.permeability,a=e.permittivity,n=t.getContext("2d");n.fillStyle="rgb(1, 0, 1)",n.fillRect(0,0,t.width,t.height),n.fillStyle="rgb(0, 255, 0)",n.textAlign="center",n.textBaseline="middle",n.fillText("warlock.ai/maxwell",t.width/2,t.height/2);for(var r=n.getImageData(0,0,t.width,t.height),c=0;c<t.width;c++)for(var u=0;u<t.height;u++)r.data[4*c+u*t.width*4+0]=Math.round(a[u][c]),r.data[4*c+u*t.width*4+2]=Math.round(i[u][c]),r.data[4*c+u*t.width*4+3]=255;return n.putImageData(r,0,0),t.toDataURL("image/png")}({permittivity:e.permittivity.values.toArray(),permeability:e.permeability.values.toArray(),shape:[e.permeability.shape[0],e.permeability.shape[1]]}))}}),[t]),d=Object(a.useCallback)((function(){t&&function(e,t,i){var a=document.createElement("canvas");a.width=t[0],a.height=t[1];var n=new Image;n.crossOrigin="anonymous",n.onload=function(e){var r=a.getContext("2d");r.fillStyle="rgb(1, 0, 1)",r.fillRect(0,0,a.width,a.height),r.drawImage(n,0,0,n.width,n.height);for(var c={permeability:[],permittivity:[],shape:t},u=r.getImageData(0,0,a.width,a.height).data,l=0;l<t[1];l++){c.permittivity.push([]),c.permeability.push([]);for(var s=0;s<t[0];s++)c.permittivity[l].push(Math.max(1,u[4*s+l*t[0]*4+0])),c.permeability[l].push(Math.max(1,u[4*s+l*t[0]*4+2]))}i(c)},n.src=e}(l,[i[0],i[1]],(function(e){t&&(t.loadPermeability(e.permeability),t.loadPermittivity(e.permittivity))}))}),[t,i,l]);return n.a.createElement("div",{style:{padding:"10px"}},n.a.createElement("div",null,n.a.createElement("button",{onClick:o,style:{background:"rgba(50, 50, 50, 100)",border:"0px",color:"white",margin:"2px"}},"Save map")),n.a.createElement("div",null,n.a.createElement("input",{type:"text",onChange:function(e){return s(e.target.value)},style:{background:"rgba(50, 50, 50, 100)",border:"0px",color:"white",margin:"2px"}}),n.a.createElement("button",{onClick:d,style:{background:"rgba(50, 50, 50, 100)",border:"0px",color:"white",margin:"2px"}},"Load map url")))}function x(e){return n.a.createElement("div",{style:{padding:"10px"}},n.a.createElement(b,{label:"Grid length",value:e.gridSizeLongest,setValue:e.setGridSizeLongest,min:100,max:2e3,step:100}),n.a.createElement(b,{label:"Time step size",value:e.dt,setValue:e.setDt,min:.001,max:.1,step:.001}),n.a.createElement(b,{label:"Cell size",value:e.cellSize,setValue:e.setCellSize,min:.001,max:1,step:.001}),n.a.createElement(b,{label:"Simulation speed",value:e.simulationSpeed,setValue:e.setSimulationSpeed,min:.1,max:10,step:.1}))}function O(e){return n.a.createElement("div",{style:{padding:"10px"}},n.a.createElement(b,{label:"Brush size",value:e.brushSize,setValue:e.setBrushSize,min:1,max:100,step:1}),n.a.createElement(b,{label:"Brush value",value:e.brushValue,setValue:e.setBrushValue,min:1,max:100,step:1}),n.a.createElement(b,{label:"Signal frequency",value:e.signalFrequency,setValue:e.setSignalFrequency,min:0,max:25,step:.25}),n.a.createElement(y,{options:["\u03b5 brush","\xb5 brush","Signal"],selectedOption:e.clickOption,setSelectedOption:e.setClickOption}),n.a.createElement("div",null,n.a.createElement("button",{onClick:e.resetFields,style:{background:"rgba(50, 50, 50, 100)",border:"0px",color:"white",margin:"2px"}},"Reset fields"),n.a.createElement("button",{onClick:e.resetMaterials,style:{background:"rgba(50, 50, 50, 100)",border:"0px",color:"white",margin:"2px"}},"Reset materials")))}var F=i(75),S=i.n(F),j=[window.innerWidth,window.innerHeight],w=T(500,j);function T(e,t){var i=t[0]/t[1];return t[0]>=t[1]?[e,Math.ceil(e/i)]:[Math.ceil(e*i),e]}function E(e,t,i){return Math.max(e,Math.min(t,i))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement((function(){var e=Object(a.useRef)(null),t=Object(a.useState)(j),i=Object(u.a)(t,2),r=i[0],c=i[1],s=Object(a.useState)(500),o=Object(u.a)(s,2),m=o[0],p=o[1],v=Object(a.useState)(.02),b=Object(u.a)(v,2),y=b[0],F=b[1],A=Object(a.useState)(.03),M=Object(u.a)(A,2),k=M[0],z=M[1],D=Object(a.useState)(1),C=Object(u.a)(D,2),P=C[0],Y=C[1];Object(a.useEffect)((function(){var e=function(){return c([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var X=Object(a.useMemo)((function(){return T(m,r)}),[r,m]),Z=Object(a.useState)(null),V=Object(u.a)(Z,2),U=V[0],W=V[1];Object(a.useEffect)((function(){e.current&&W(new l.GPU({mode:"webgl",canvas:e.current}))}),[e]);var B=Object(a.useMemo)((function(){return U?new d(U,w,.03):null}),[U]),K=Object(a.useMemo)((function(){return U?function(e,t){function i(e,t,i,a,n){return a<0||a>=t||n<0||n>=i?0:e[n][a]}return e.createKernel((function(e,t,a,n,r,c,u,l,s){var o=s[0],d=s[1],m=o*this.thread.x/this.output.x,h=d*(1-this.thread.y/this.output.y),p=i(e,o,d,m,h)*i(e,o,d,m,h)+i(t,o,d,m,h)*i(t,o,d,m,h)+i(a,o,d,m,h)*i(a,o,d,m,h),v=i(n,o,d,m-.5,h-.5),g=i(r,o,d,m-.5,h-.5),b=i(c,o,d,m-.5,h-.5),y=v*v+g*g+b*b,f=.1+.9*Math.max(0,Math.min(1,.4342944819*Math.log(i(u,o,d,m,h))/2)),x=.1+.9*Math.max(0,Math.min(1,.4342944819*Math.log(i(l,o,d,m,h))/2)),O=(Math.abs(m%1-.5)<.25?1:0)*(Math.abs(h%1-.5)<.25?1:0),F=1-O;this.color(Math.min(1,p/15+.7*O*f),Math.min(1,p/15+y/15),Math.min(1,y/15+.7*F*x))})).setOutput(t).setGraphical(!0).setFunctions([i]).setWarnVarUsage(!1).setTactic("performance").setPrecision("unsigned").setDynamicOutput(!0).setDynamicArguments(!0)}(U,w):null}),[U]);Object(a.useEffect)((function(){K&&K.setOutput(r)}),[K,r]),Object(a.useEffect)((function(){B&&B.setGridSize(X)}),[B,X]),Object(a.useEffect)((function(){B&&B.setCellSize(k)}),[B,k]);var I=Object(a.useState)(1),R=Object(u.a)(I,2),q=R[0],G=R[1],L=Object(a.useState)(20),H=Object(u.a)(L,2),Q=H[0],J=H[1],N=Object(a.useState)(3),$=Object(u.a)(N,2),_=$[0],ee=$[1],te=Object(a.useState)(!1),ie=Object(u.a)(te,2),ae=ie[0],ne=ie[1],re=Object(a.useState)(!1),ce=Object(u.a)(re,2),ue=ce[0],le=ce[1],se=Object(a.useState)(2),oe=Object(u.a)(se,2),de=oe[0],me=oe[1],he=Object(a.useState)(null),pe=Object(u.a)(he,2),ve=pe[0],ge=pe[1],be=Object(a.useRef)(0),ye=Object(a.useRef)(null),fe=Object(a.useCallback)((function(){if(B){var e=B.getData();if(null!==ye.current){var t=E(0,X[0]-1,Math.floor(X[0]*ye.current[0]/r[0])),i=E(0,X[1]-1,Math.floor(X[1]*ye.current[1]/r[1])),a=Math.round(q/2);B.injectSignal([t,i],a,2e3*-Q*Math.cos(2*Math.PI*_*e.time),y)}B.stepMagnetic(y),B.stepElectric(y)}}),[B,r,X,y,_,Q,q]);Object(a.useEffect)((function(){var e=setInterval(fe,1e3/P*y);return function(){return clearInterval(e)}}),[fe,y,P]);var xe=Object(a.useCallback)((function(){if(B&&K){e.current&&(e.current.width=window.innerWidth,e.current.height=window.innerHeight);var t=B.getData();t.time>0&&K(t.electricFieldX.values,t.electricFieldY.values,t.electricFieldZ.values,t.magneticFieldX.values,t.magneticFieldY.values,t.magneticFieldZ.values,t.permittivity.values,t.permeability.values,X)}}),[B,K,X,e]);Object(a.useEffect)((function(){var e=!1;return requestAnimationFrame((function t(){e||(xe(),requestAnimationFrame(t))})),function(){e=!0}}),[xe]);var Oe=Object(a.useCallback)((function(e){if(B){var t=Math.round(X[0]*(e[0]/r[0])),i=Math.round(X[1]*(e[1]/r[1])),a=Math.round(q/2);B.drawPermittivity([t,i,0],a,Q)}}),[B,X,r,q,Q]),Fe=Object(a.useCallback)((function(e){if(B){var t=Math.round(X[0]*(e[0]/r[0])),i=Math.round(X[1]*(e[1]/r[1])),a=Math.round(q/2);B.drawPermeability([t,i,0],a,Q)}}),[B,X,r,q,Q]),Se=Object(a.useCallback)((function(){B&&B.resetMaterials()}),[B]),je=Object(a.useCallback)((function(){B&&(B.resetFields(),be.current=0)}),[B]),we=Object(a.useCallback)((function(e){var t=Object(u.a)(e,2),i=t[0],a=t[1];B&&(2===de?ye.current=[i,a]:0===de?(Oe([i,a]),le(!0)):1===de&&(Fe([i,a]),ne(!0)))}),[B,Oe,Fe,de]),Te=Object(a.useCallback)((function(e){var t=Object(u.a)(e,2),i=t[0],a=t[1];B&&(2===de&&null!==ye.current&&(ye.current=[i,a]),ue&&Oe([i,a]),ae&&Fe([i,a]))}),[B,Oe,Fe,de,ae,ue]),Ee=Object(a.useCallback)((function(){2===de?ye.current=null:1===de?ne(!1):0===de&&le(!1)}),[de]),Ae=Object(a.useState)(2),Me=Object(u.a)(Ae,2),ke=Me[0],ze=Me[1],De=Object(a.useState)(1),Ce=Object(u.a)(De,2),Pe=Ce[0],Ye=Ce[1],Xe=Object(a.useState)(20),Ze=Object(u.a)(Xe,2),Ve=Ze[0],Ue=Ze[1],We=Object(a.useState)(5),Be=Object(u.a)(We,2),Ke=Be[0],Ie=Be[1],Re=Object(a.useState)(5),qe=Object(u.a)(Re,2),Ge=qe[0],Le=qe[1];return Object(a.useEffect)((function(){2===de&&2!==ke?(Ie(q),Le(Q),G(Pe),J(Ve)):2!==de&&2===ke&&(Ye(q),Ue(Q),G(Ke),J(Ge)),ze(de)}),[de,ke,Pe,Ve,Ke,Ge,q,Q]),n.a.createElement("div",{style:{touchAction:"none",userSelect:"none"}},n.a.createElement("canvas",{width:r[0],height:r[1],ref:e,style:{position:"absolute",width:r[0],height:r[1]},onMouseDown:function(e){return we([e.clientX,e.clientY])},onMouseMove:function(e){ge([e.clientX,e.clientY]),Te([e.clientX,e.clientY])},onMouseUp:function(e){return Ee()},onMouseLeave:function(e){return Ee()},onTouchStart:function(e){ge([e.touches[0].clientX,e.touches[0].clientY]),we([e.touches[0].clientX,e.touches[0].clientY])},onTouchMove:function(e){ge([e.touches[0].clientX,e.touches[0].clientY]),Te([e.touches[0].clientX,e.touches[0].clientY])},onTouchEnd:function(e){ge(null),Ee()},onTouchCancel:function(e){ge(null),Ee()},onContextMenu:function(e){return e.preventDefault()}}),n.a.createElement("div",{style:{position:"absolute",bottom:10,right:10}},n.a.createElement("a",{href:"https://github.com/RobinKa/maxwell-simulation",rel:"noopener noreferrer",target:"_blank",style:{fontWeight:"lighter",color:"rgba(255, 255, 255, 100)",textDecoration:"none"}},"Source code")),ve&&n.a.createElement("div",{style:{position:"absolute",pointerEvents:"none",left:ve[0]-2*(q+1),top:ve[1]-2*(q+1),width:4*(q+1),height:4*(q+1),border:"2px solid yellow"}}),n.a.createElement("img",{onClick:h,src:S.a,alt:"Fullscreen",style:{position:"absolute",right:10,top:10,cursor:"pointer"}}),n.a.createElement(g,{title:"Menu",style:{position:"absolute",opacity:.8,maxHeight:Math.round(.7*r[1]),overflowY:"auto"},buttonStyle:{background:"rgb(60, 60, 60)"}},n.a.createElement(g,{title:"Save / Load"},n.a.createElement(f,{simulator:B,gridSize:X})),n.a.createElement(g,{title:"Settings"},n.a.createElement(x,{gridSizeLongest:m,setGridSizeLongest:p,simulationSpeed:P,setSimulationSpeed:Y,cellSize:k,setCellSize:z,dt:y,setDt:F})),n.a.createElement(g,{title:"Controls"},n.a.createElement(O,{brushSize:q,setBrushSize:G,brushValue:Q,setBrushValue:J,signalFrequency:_,setSignalFrequency:ee,clickOption:de,setClickOption:me,resetFields:je,resetMaterials:Se}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},75:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABISURBVFhH7dchDgAhDETRKfe/M1TUlgyqgv8Mq+AnQMjGTjJFqs+rlzlXjWMIIKC9Be6Jd3XrsAUEAAB4jgkYD+DPiIDfA6QD/j8gGcpVf+MAAAAASUVORK5CYII="},76:function(e,t,i){e.exports=i(183)},81:function(e,t,i){}},[[76,1,2]]]);
//# sourceMappingURL=main.ade8f19d.chunk.js.map