(this.webpackJsonpmaxwell=this.webpackJsonpmaxwell||[]).push([[0],{184:function(t,e,i){"use strict";i.r(e);var n=i(8),a=i.n(n),r=i(73),c=i.n(r),l=(i(81),i(14)),s=i.n(l),u=i(74),o=i(13),d=i(75),h=i(35);function f(t,e){for(var i=[],n=0;n<t[0];n++){for(var a=[],r=0;r<t[1];r++){for(var c=[],l=0;l<t[2];l++)c.push(e([n,r,l]));a.push(c)}i.push(a)}return i}var g=new h.GPU,m=g.createKernel((function(t,e){var i=this.thread.z,n=this.thread.y,a=this.thread.x,r=n+1>=this.output.y?0:e[i][n+1][a],c=a+1>=this.output.z?0:t[i][n][a+1];return(r-e[i][n][a]-(c-t[i][n][a]))/this.constants.cellSize}),{output:[50,50,50],constants:{cellSize:.03}}),F=g.createKernel((function(t,e){var i=this.thread.z,n=this.thread.y,a=this.thread.x,r=i+1>=this.constants.gridSize?0:e[i+1][n][a];return((a+1>=this.constants.gridSize?0:t[i][n][a+1])-t[i][n][a]-(r-e[i][n][a]))/this.constants.cellSize}),{output:[50,50,50],constants:{gridSize:50,cellSize:.03}}),v=g.createKernel((function(t,e){var i=this.thread.z,n=this.thread.y,a=this.thread.x,r=i+1>=this.constants.gridSize?0:e[i+1][n][a],c=n+1>=this.constants.gridSize?0:t[i][n+1][a];return(r-e[i][n][a]-(c-t[i][n][a]))/this.constants.cellSize}),{output:[50,50,50],constants:{gridSize:50,cellSize:.03}}),p=g.createKernel((function(t,e){var i=this.thread.z,n=this.thread.y,a=this.thread.x,r=n-1<0?0:e[i][n-1][a],c=a-1<0?0:t[i][n][a-1];return(e[i][n][a]-r-(t[i][n][a]-c))/this.constants.cellSize}),{output:[50,50,50],constants:{gridSize:50,cellSize:.03}}),z=g.createKernel((function(t,e){var i=this.thread.z,n=this.thread.y,a=this.thread.x,r=i-1<0?0:e[i-1][n][a],c=a-1<0?0:t[i][n][a-1];return(t[i][n][a]-c-(e[i][n][a]-r))/this.constants.cellSize}),{output:[50,50,50],constants:{gridSize:50,cellSize:.03}}),S=g.createKernel((function(t,e){var i=this.thread.z,n=this.thread.y,a=this.thread.x,r=i-1<0?0:e[i-1][n][a],c=n-1<0?0:t[i][n-1][a];return(e[i][n][a]-r-(t[i][n][a]-c))/this.constants.cellSize}),{output:[50,50,50],constants:{gridSize:50,cellSize:.03}});function w(t,e,i){for(var n=0;n<t.length;n++)for(var a=0;a<t[0].length;a++)for(var r=0;r<t[0][0].length;r++)t[n][a][r]+=i*e[n][a][r]}var b=new function t(e){var i=this;Object(d.a)(this,t),this.data=void 0,this.stepElectric=function(t){var e=p(i.data.magneticFieldY,i.data.magneticFieldZ),n=z(i.data.magneticFieldX,i.data.magneticFieldZ),a=S(i.data.magneticFieldX,i.data.magneticFieldY);w(i.data.electricFieldX,e,t),w(i.data.electricFieldY,n,t),w(i.data.electricFieldZ,a,t),i.data.time+=t/2},this.stepMagnetic=function(t){var e=m(i.data.electricFieldY,i.data.electricFieldZ),n=F(i.data.electricFieldX,i.data.electricFieldZ),a=v(i.data.electricFieldX,i.data.electricFieldY);w(i.data.magneticFieldX,e,-t),w(i.data.magneticFieldY,n,-t),w(i.data.magneticFieldZ,a,-t),i.data.time+=t/2},this.getData=function(){return i.data},this.data={time:0,electricFieldX:f(e,(function(t){return 0})),electricFieldY:f(e,(function(t){return 0})),electricFieldZ:f(e,(function(t){return 0})),magneticFieldX:f(e,(function(t){return 0})),magneticFieldY:f(e,(function(t){return 0})),magneticFieldZ:f(e,(function(t){return 0})),permittivity:f(e,(function(t){return 0})),permeability:f(e,(function(t){return 0}))}}([50,50,50]);function M(t,e,i){return Math.max(t,Math.min(e,i))}var X=null;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement((function(){var t=Object(n.useRef)(null),e=Object(n.useState)(!1),i=Object(o.a)(e,2),r=(i[0],i[1],Object(n.useState)(!1)),c=Object(o.a)(r,2),l=(c[0],c[1],Object(n.useState)(!1)),d=Object(o.a)(l,2),f=(d[0],d[1],Object(n.useState)(!0)),g=Object(o.a)(f,2),m=(g[0],g[1],Object(n.useState)(null)),F=Object(o.a)(m,2),v=F[0],p=F[1],z=Object(n.useMemo)((function(){return function(t){return[0,0,3*Math.sin(2*Math.PI*t)]}}),[]),S=Object(n.useCallback)((function(){var e=!1;return function(){var i=Object(u.a)(s.a.mark((function i(){var n;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=s.a.mark((function e(){var i,n,a,r,c,l,u,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=b.getData(),.01,null!==v&&t.current)for(n=z(i.time),a=M(0,i.electricFieldX.length-1,Math.round(i.electricFieldX.length*v[0]/t.current.width)),r=M(0,i.electricFieldX[0].length-1,Math.round(i.electricFieldX[0].length*v[1]/t.current.height)),c=0;c<50;c++)i.electricFieldX[a][r][c]=n[0],i.electricFieldY[a][r][c]=n[1],i.electricFieldZ[a][r][c]=n[2];if(b.stepMagnetic(.01),null!==v&&t.current)for(l=z(i.time),u=M(0,i.electricFieldX.length-1,Math.round(i.electricFieldX.length*v[0]/t.current.width)),o=M(0,i.electricFieldX[0].length-1,Math.round(i.electricFieldX[0].length*v[1]/t.current.height)),d=0;d<50;d++)i.electricFieldX[u][o][d]=l[0],i.electricFieldY[u][o][d]=l[1],i.electricFieldZ[u][o][d]=l[2];return b.stepElectric(.01),null===X&&null!==t.current&&(s=new h.GPU({mode:"webgl",canvas:t.current}),X=s.createKernel((function(t,e,i,n,a,r){var c=this.constants.gridSize*this.thread.x/this.output.x,l=this.constants.gridSize*-this.thread.y/this.output.y,s=Math.ceil(c),u=Math.ceil(l),o=s-1,d=u-1,h=(c-o)/(s-o),f=(l-d)/(u-d),g=Math.round(this.constants.gridSize/2),m=t[o][d][g]*t[o][d][g]+e[o][d][g]*e[o][d][g]+i[o][d][g]*i[o][d][g],F=t[o][u][g]*t[o][u][g]+e[o][u][g]*e[o][u][g]+i[o][u][g]*i[o][u][g],v=t[s][d][g]*t[s][d][g]+e[s][d][g]*e[s][d][g]+i[s][d][g]*i[s][d][g],p=t[s][u][g]*t[s][u][g]+e[s][u][g]*e[s][u][g]+i[s][u][g]*i[s][u][g],z=n[o][d][g]*n[o][d][g]+a[o][d][g]*a[o][d][g]+r[o][d][g]*r[o][d][g],S=n[o][u][g]*n[o][u][g]+a[o][u][g]*a[o][u][g]+r[o][u][g]*r[o][u][g],w=n[s][d][g]*n[s][d][g]+a[s][d][g]*a[s][d][g]+r[s][d][g]*r[s][d][g],b=n[s][u][g]*n[s][u][g]+a[s][u][g]*a[s][u][g]+r[s][u][g]*r[s][u][g],M=h*v+(1-h)*m,X=h*p+(1-h)*F,x=Math.max(0,Math.min(2,f*X+(1-f)*M)),O=h*w+(1-h)*z,j=h*b+(1-h)*S,y=Math.max(0,Math.min(2,f*j+(1-f)*O));this.color(x/2,x/2*y/2,y/2)})).setOutput([window.innerHeight,window.innerHeight]).setConstants({gridSize:50}).setGraphical(!0)),null!==X&&X(b.getData().electricFieldX,b.getData().electricFieldY,b.getData().electricFieldZ,b.getData().magneticFieldX,b.getData().magneticFieldY,b.getData().magneticFieldZ),e.next=10,new Promise((function(t){return setTimeout(t,10)}));case 10:case"end":return e.stop()}var s}),e)}));case 1:if(e){i.next=5;break}return i.delegateYield(n(),"t0",3);case 3:i.next=1;break;case 5:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}()(),function(){e=!0}}),[z,v,t]);return Object(n.useEffect)(S,[S]),a.a.createElement("div",{id:"main"},a.a.createElement("div",{style:{float:"left"}},a.a.createElement("canvas",{width:400,height:400,ref:t,onMouseDown:function(t){return p([t.clientX,t.clientY])},onMouseMove:function(t){null!==v&&p([t.clientX,t.clientY])},onMouseUp:function(t){return p(null)}})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},76:function(t,e,i){t.exports=i(184)},81:function(t,e,i){}},[[76,1,2]]]);
//# sourceMappingURL=main.817ff80a.chunk.js.map