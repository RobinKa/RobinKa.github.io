(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){},158:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(7),o=n.n(i),c=(n(87),n(24)),l=(n(88),n(35)),s=n.n(l),u=n(62),d=n(15),f=n(159);d.a();var h=["elu","hardSigmoid","linear","relu","relu6","selu","sigmoid","softmax","softplus","softsign","tanh"],m=0,p=0,g=null;function v(e,t){if(m===e&&p===t)return g;for(var n=[],a=e/2,r=t/2,i=0;i<e;i++){n.push([]);for(var o=0;o<t;o++)n[i].push([i-a,o-r])}return g=d.d([n])}function b(e){var t=[e.width,e.height],n=t[0],i=t[1],o=e.setProgress,c=e.setGenerating,l=e.layers,m=e.numHidden,p=Object(a.useRef)(null);function g(e){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(s.a.mark(function e(t){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(0),a=t.predict(v(n,i)),e.next=4,a.array();case 4:return r=e.sent,o(1),e.abrupt("return",r[0]);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(s.a.mark(function e(){var t,a,r,o,u,f,v,b,w,y,E;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=function(){return h[Math.floor(Math.random()*h.length)]},c(!0),t=d.c(),a=[n,i,2],r=[n,i,m],u=0;u<l-1;u++)t.add(d.b.conv2d({kernelSize:[1,1],filters:m,inputShape:0===u?a:r})),t.add(d.b.activation({activation:o()})),t.add(d.b.batchNormalization());return t.add(d.b.conv2d({inputShape:1===l?a:r,filters:3,kernelSize:[1,1]})),t.add(d.b.activation({activation:o()})),e.next=10,g(t);case 10:for(f=e.sent,v=p.current.getContext("2d"),b=v.createImageData(n,i),w=0;w<n;w++)for(y=0;y<i;y++)E=w+y*n,b.data[4*E+0]=Math.floor(255*f[w][y][0]),b.data[4*E+1]=Math.floor(255*f[w][y][1]),b.data[4*E+2]=Math.floor(255*f[w][y][2]),b.data[4*E+3]=255;v.putImageData(b,0,0),c(!1);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("canvas",{ref:p,onClick:w,width:n,height:i,style:{boxShadow:"3px 3px 5px 0px rgba(0,0,0,0.75)"}}),r.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},r.a.createElement(f.a,{onClick:w},"Generate")))}var w=n(160),y=n(36),E=(n(156),n(157),function(){var e=Object(a.useState)(256),t=Object(c.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(256),l=Object(c.a)(o,2),s=l[0],u=l[1],d=Object(a.useState)(0),f=Object(c.a)(d,2),h=f[0],m=f[1],p=Object(a.useState)(!1),g=Object(c.a)(p,2),v=g[0],E=g[1],x=Object(a.useState)(3),j=Object(c.a)(x,2),S=j[0],k=j[1],O=Object(a.useState)(10),A=Object(c.a)(O,2),C=A[0],W=A[1];return r.a.createElement("div",null,r.a.createElement("div",{style:{marginLeft:"20%",marginRight:"20%"}},r.a.createElement("h1",{style:{textAlign:"center"}},"Neural Painter"),r.a.createElement("a",{href:"https://github.com/RobinKa/web-neural-painter"},r.a.createElement("h3",{style:{textAlign:"center"}},"Source Code")),r.a.createElement("label",{style:{fontSize:"24px",visibility:v?"visible":"collapse"}},"Generating..."),r.a.createElement(w.a,{animated:!0,min:0,max:1,now:h,label:"".concat(Math.round(100*h),"%"),style:{visibility:v?"visible":"collapse"}}),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(y.a,{defaultValue:256,min:0,max:1024,step:16,onChange:function(e){return i(e)}}),r.a.createElement("label",null,"Width: ",n)),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(y.a,{defaultValue:256,min:0,max:1024,step:16,onChange:function(e){return u(e)}}),r.a.createElement("label",null,"Height: ",s)),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(y.a,{defaultValue:3,min:1,max:50,step:1,onChange:function(e){return k(e)}}),r.a.createElement("label",null,"Layers: ",S)),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(y.a,{defaultValue:3,min:1,max:100,step:1,onChange:function(e){return W(e)}}),r.a.createElement("label",null,"Hidden: ",C))),r.a.createElement("div",{style:{visibility:v?"hidden":"visible",textAlign:"center"}},r.a.createElement(b,{width:n,height:s,setProgress:m,setGenerating:E,layers:S,numHidden:C})))}),x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(E,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/painter",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/painter","/service-worker.js");x?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):j(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):j(t,e)})}}()},82:function(e,t,n){e.exports=n(158)},87:function(e,t,n){},88:function(e,t,n){},95:function(e,t){},96:function(e,t){},97:function(e,t){},98:function(e,t){},99:function(e,t){}},[[82,1,2]]]);
//# sourceMappingURL=main.99b2cdef.chunk.js.map