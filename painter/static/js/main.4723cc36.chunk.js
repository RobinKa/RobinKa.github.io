(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){},101:function(e,t){},159:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(7),o=n.n(i),c=(n(88),n(15)),l=(n(89),n(36)),s=n.n(l),u=n(62),d=n(16),m=n(160),f=n(77);d.a();var h=["elu","hardSigmoid","linear","relu","relu6","selu","sigmoid","softmax","softplus","softsign","tanh"],g=0,p=0,b=0,v=0,w=null;function x(e,t,n,a){if(g===e&&p===t&&b===n&&v===a)return w;for(var r=[],i=0;i<e;i++){r.push([]);for(var o=0;o<t;o++)r[i].push([2*i-e,2*o-t,a*Math.cos(2*Math.PI*n),a*Math.sin(2*Math.PI*n)])}return w=d.d([r]),g=e,p=t,b=n,v=a,w}function E(e){var t=[e.width,e.height],n=t[0],i=t[1],o=e.setProgress,c=e.setGenerating,l=e.layers,g=e.numHidden,p=e.numFrames,b=e.radius,v=Object(a.useRef)(null);function w(e,t){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(s.a.mark(function e(t,a){var r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.predict(x(n,i,a,b)),e.next=3,r.array();case 3:return o=e.sent,e.abrupt("return",o[0]);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(s.a.mark(function e(){var t,a,r,u,m,b,x,E,y,j,O,S,k,A,C;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(b=function(){return h[Math.floor(Math.random()*h.length)]},o(0),t=[],a=v.current,r=a.getContext("2d"),u=r.createImageData(n,i),m=0,c(!0),x=d.c(),E=[n,i,4],y=[n,i,g],j=0;j<l-1;j++)x.add(d.b.conv2d({kernelSize:[1,1],filters:g,inputShape:0===j?E:y})),x.add(d.b.activation({activation:b()})),x.add(d.b.batchNormalization());x.add(d.b.conv2d({inputShape:1===l?E:y,filters:3,kernelSize:[1,1]})),x.add(d.b.activation({activation:b()})),O=0;case 15:if(!(O<p)){e.next=27;break}return e.next=18,w(x,m);case 18:for(S=e.sent,k=0;k<n;k++)for(A=0;A<i;A++)C=k+A*n,u.data[4*C+0]=Math.min(255,Math.max(0,255*S[k][A][0])),u.data[4*C+1]=Math.min(255,Math.max(0,255*S[k][A][1])),u.data[4*C+2]=Math.min(255,Math.max(0,255*S[k][A][2])),u.data[4*C+3]=255;r.putImageData(u,0,0),t.push(a.toDataURL("image/png")),m+=1/p,o(O/p);case 24:O++,e.next=15;break;case 27:f.createGIF({images:t,gifWidth:n,gifHeight:i},function(e){if(!e.error){var t=e.image,n=document.createElement("img");n.src=t,document.body.appendChild(n)}}),o(1),c(!1);case 30:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("canvas",{ref:v,onClick:y,width:n,height:i,style:{boxShadow:"3px 3px 5px 0px rgba(0,0,0,0.75)"}}),r.a.createElement("div",{style:{marginTop:"10px",marginBottom:"10px",textAlign:"center"}},r.a.createElement(m.a,{onClick:y},"Generate")))}var y=n(161),j=n(25),O=(n(157),n(158),function(){var e=Object(a.useState)(256),t=Object(c.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(256),l=Object(c.a)(o,2),s=l[0],u=l[1],d=Object(a.useState)(0),m=Object(c.a)(d,2),f=m[0],h=m[1],g=Object(a.useState)(!1),p=Object(c.a)(g,2),b=p[0],v=p[1],w=Object(a.useState)(4),x=Object(c.a)(w,2),O=x[0],S=x[1],k=Object(a.useState)(10),A=Object(c.a)(k,2),C=A[0],M=A[1],W=Object(a.useState)(20),R=Object(c.a)(W,2),P=R[0],I=R[1],V=Object(a.useState)(100),G=Object(c.a)(V,2),H=G[0],L=G[1];return r.a.createElement("div",null,r.a.createElement("div",{style:{marginLeft:"20%",marginRight:"20%"}},r.a.createElement("h1",{style:{textAlign:"center"}},"Neural Painter"),r.a.createElement("a",{href:"https://github.com/RobinKa/web-neural-painter"},r.a.createElement("h3",{style:{textAlign:"center"}},"Source Code")),r.a.createElement("label",{style:{fontSize:"24px",visibility:b?"visible":"collapse"}},"Generating..."),r.a.createElement(y.a,{animated:!0,min:0,max:1,now:f,label:"".concat(Math.round(100*f),"%"),style:{visibility:b?"visible":"collapse"}}),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(j.a,{defaultValue:256,min:0,max:1024,step:16,onChange:function(e){return i(e)}}),r.a.createElement("label",null,"Width: ",n)),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(j.a,{defaultValue:256,min:0,max:1024,step:16,onChange:function(e){return u(e)}}),r.a.createElement("label",null,"Height: ",s)),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(j.a,{defaultValue:4,min:1,max:50,step:1,onChange:function(e){return S(e)}}),r.a.createElement("label",null,"Layers: ",O)),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(j.a,{defaultValue:10,min:1,max:100,step:1,onChange:function(e){return M(e)}}),r.a.createElement("label",null,"Hidden: ",C)),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(j.a,{defaultValue:20,min:1,max:120,step:1,onChange:function(e){return I(e)}}),r.a.createElement("label",null,"Frames: ",P)),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(j.a,{defaultValue:100,min:.01,max:500,step:.01,onChange:function(e){return L(e)}}),r.a.createElement("label",null,"Radius: ",H))),r.a.createElement("div",{style:{visibility:b?"hidden":"visible",textAlign:"center"}},r.a.createElement(E,{width:n,height:s,setProgress:h,setGenerating:v,layers:O,numHidden:C,numFrames:P,radius:H})))}),S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(O,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/painter",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/painter","/service-worker.js");S?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):k(t,e)})}}()},83:function(e,t,n){e.exports=n(159)},88:function(e,t,n){},89:function(e,t,n){},96:function(e,t){},97:function(e,t){},98:function(e,t){},99:function(e,t){}},[[83,1,2]]]);
//# sourceMappingURL=main.4723cc36.chunk.js.map